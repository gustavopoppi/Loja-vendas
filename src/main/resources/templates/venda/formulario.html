<html>
	<head th:replace="~{base :: head}"></head>
	<body>
		<div th:replace="~{base :: logo}"></div>
	
		<div class="container" id="listaClientes">
			<div th:replace="~{base :: novaVenda('Nova Venda')}"></div>
			
			<div class="card mt-3">
				<form th:object="${requisicaoNovaVenda}" class="card-body m-3" th:action="@{/venda/novo}" method="POST">
				<!-- <form th:action="@{/venda/novo}" method="post" class="m-3"> -->
				
					<div class="mb-3">
						<div class="d-flex justify-content-between mb-2">
						<label for="nomeCliente" class="form-label">Nome Cliente</label>
						<button type="button" class="btn btn-primary">Cadastrar Cliente</button>
						</div>
						<select v-model="cliente" class="form-control">
							<option disabled value="" selected="selected">Selecione um cliente</option>
						    <option v-for="cliente in clientes" :key="cliente.id" v-bind:value="cliente.id">
						           {{cliente.nomeCliente}}
						     </option>
						</select>
					</div>
					
					<!--<div class="mb-3">
					    <label for="nomeCliente" class="form-label">Nome Cliente</label>
					    <input name="nomeCliente" type="text" class="form-control" id="nomeCliente" placeholder="Nome completo do cliente">				    						
				  	</div>		-->
				  			  	
				  	<div class="mb-3">
				    	<label for="nomeProduto" class="form-label">Nome Produto</label>
				    	<input name="nomeProduto" type="text" class="form-control" id="nomeProduto" placeholder="Nome do produto a ser vendido">
				  	</div>
				  	<div class="row">
						<div class="mb-3 col-3">
				  			<label for="valorTotal" class="form-label">Valor Total</label>
			      			<input name="valorTotal" type="text" class="form-control" id="valorTotal" placeholder="Valor total da venda">
			  			</div>				  
						<div class="mb-3 col-3">					    
							<label for="parcela" class="form-label">NÂº de Parcelas</label>				  	
					  		<input name="qtdeParcelas" type="text" class="form-control" id="parcela" placeholder="Quantidade de parcelas">
			    		</div>
				    	<div class="mb-3 col-3">
						    <label for="dataCompra" class="form-label">Data da Compra</label>
						    <input name="dataCompra" type="date" class="form-control" id="dataCompra">
						</div>
						<div class="mb-3 col-3">
						    <label for="inicioPagamento" class="form-label">Data Inicio Pagamento</label>
						    <input name="inicioPagamento" type="date" class="form-control" id="inicioPagamento">						    
						</div>
				  	</div>
				  <!-- <a href="http://localhost:8080/home"><button class="btn btn-outline-secondary my-sm-0">Cancelar</button></a> -->
				  <button type="submit" class="btn btn-primary">Salvar Venda</button>
				</form>
			</div>
		</div>
		
		<script>
		window.addEventListener("load", onLoad);
	
		function onLoad(){
			console.log("entrou na load")
			var app = new Vue({
				el : '#listaClientes',
				data : {
					clientes : [],
					cliente:'',
					row: 'row'
				},
				mounted(){
					axios
						.get('/api/clientes')
						.then(response => {
							this.clientes = response.data;
							console.log(this.clientes);
						})
				}
			})
			
		}
	
	/*function mostrarResposta(venda) {
	    const mensagem = `
	        venda: ${venda.listaParcelas[0][0].venda.cliente.nomeCliente},
	        parcela: ${venda.parcelas[0].ativa},
	        dataParcela: ${venda.parcelas[0].dataParcela}
	    `;
	    alert(mensagem);
	}*/
</script>
		
		<script type="text/javascript" src="/js/testeJs.js"/></script>
	</body>
</html>